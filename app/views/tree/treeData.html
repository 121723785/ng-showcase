<link rel="stylesheet" href="views/tree/treeData.css" />
<fieldset>
  <legend>Demo</legend>
  <div class="tree">
    <ul>
      <li ng-repeat="country in vm.countries" ng-class="{closed:country.closed}">
        <div>
          <input type="checkbox" ng-model="country.checked" ng-change="vm.tree.check(country, country.checked)" ng-class="{intermediate: vm.tree.isSemiChecked(country)}"/>
          <span ng-click="country.closed=!country.closed">
            <span class="glyphicon" ng-class="country.closed?'glyphicon-plus':'glyphicon-minus'"></span>
            <img ng-src="images/{{country.flag}}"/>
            {{country.label}}
          </span>
        </div>
        <ul ng-class="{hidden: country.closed}">
          <li ng-repeat="province in country.items" ng-class="{closed:province.closed}">
            <input type="checkbox" ng-model="province.checked" ng-change="vm.tree.check(province, province.checked)" ng-class="{intermediate: vm.tree.isSemiChecked(province)}"/>
            <span ng-click="province.closed=!province.closed">
              <span class="glyphicon" ng-class="province.closed?'glyphicon-plus':'glyphicon-minus'"></span>
              {{province.label}}
            </span>
            <ul ng-class="{hidden: province.closed}">
              <li ng-repeat="city in province.items">
                <label>
                  <input type="checkbox" ng-model="city.checked" ng-change="vm.tree.check(city, city.checked)"/>
                  {{city.label}}
                </label>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</fieldset>
<fieldset>
  <legend>说明</legend>
  这是一个使用内部数据结构来封装级联逻辑的版本，相比directive来说，这种内部数据结构更容易测试，内聚性也更强。
</fieldset>